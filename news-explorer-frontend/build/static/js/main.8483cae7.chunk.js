(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],{29:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(1),s=t.n(a),c=t(21),i=t.n(c),o=(t(29),t(12)),r=t(9),l=t(17),d=t(2),u=t(3),h=t(8),j=t.p+"static/media/signout-black.e6943779.svg",b=t.p+"static/media/signout-white.96d43996.svg",m=s.a.createContext(),g=t(0);var _=function(e){var n=s.a.useContext(m),t=e.mobile?"mobile":"";return Object(g.jsxs)("nav",{className:"navigation_".concat(t," navigation"),children:[Object(g.jsx)(h.c,{className:"navigation__text navigation__text_home navigation__text_".concat(e.savedNewsLocation?"black":"null"),activeClassName:"navigation__text_active",exact:!0,to:"/",children:"Home"}),e.Loggedin?Object(g.jsx)(h.c,{className:"navigation__text navigation__text_saved navigation__text_".concat(e.savedNewsLocation?"black":"null"),activeClassName:"navigation__text_active navigation__text_active-black",exact:!0,to:"/saved-news",children:"Saved articles"}):null,e.Loggedin?Object(g.jsxs)("button",{onClick:e.onSignOut,className:" navigation__btn navigation__text navigation__btn_".concat(e.savedNewsLocation?"black":"null"," navigation__text_").concat(e.savedNewsLocation?"black":"null"),children:[Object(g.jsx)("span",{className:"navigation__btn-username",children:n&&n.name}),Object(g.jsx)("img",{src:e.savedNewsLocation?j:b,className:"navigation__signout",alt:"signout"})]}):Object(g.jsx)("button",{onClick:e.onSigninClick,className:"navigation__btn navigation__text navigation__btn_".concat(e.savedNewsLocation?"black":"null"," navigation__text_").concat(e.savedNewsLocation?"black":"null"),children:"Sign in"})]})};var v=function(e){return Object(g.jsx)("div",{className:"navigation__mobile navigation__mobile-".concat(e.mobileNavOpen?"null":"hidden"),children:Object(g.jsxs)("div",{className:"navigation__mobile-container",children:[Object(g.jsxs)("div",{className:"navigation__mobile-header",children:[Object(g.jsx)(h.b,{className:"header__logo header__logo_".concat(e.savedNewsLocation?"black":"null"),to:"/",children:"NewsExplorer"}),Object(g.jsx)("button",{className:"navigation__close-btn",onClick:e.onClose})]}),Object(g.jsx)(_,{onSigninClick:e.onSigninClick,mobile:e.mobile,Loggedin:e.Loggedin,onSignOut:e.onSignOut})]})})};var O=function(e){return Object(g.jsxs)("header",{className:"header",children:[Object(g.jsx)(h.b,{className:"header__logo header__logo_".concat(e.savedNewsLocation?"black":"null"),to:"/",children:"NewsExplorer"}),e.mobile?Object(g.jsx)(v,{mobileNavOpen:e.mobileNavOpen,onSigninClick:e.onSigninClick,onClose:e.onClose,mobile:e.mobile,Loggedin:e.Loggedin,onSignOut:e.onSignOut,savedNewsLocation:e.savedNewsLocation,values:e.values}):Object(g.jsx)(_,{savedNewsLocation:e.savedNewsLocation,onSigninClick:e.onSigninClick,mobile:e.mobile,mobileMenuOpen:e.mobileMenuOpen,Loggedin:e.Loggedin,onSignOut:e.onSignOut,values:e.values}),e.mobile&&Object(g.jsx)("button",{className:"header__hamburger header__hamburger_".concat(e.savedNewsLocation?"black":"null"," header__hamburger_").concat(e.mobileNavOpen?"hidden":"null"),onClick:e.onHamburgerClick})]})};var p=function(e){return Object(g.jsxs)("section",{className:"search",children:[Object(g.jsxs)("form",{className:"search__form",onSubmit:e.handleSearchSubmit,children:[Object(g.jsx)("input",{className:"search__input",placeholder:"Please enter a keyword",value:e.searchTerm,onChange:function(n){e.setSearchTerm(n.target.value)}}),Object(g.jsx)("button",{className:"search__submit",children:"Search"})]}),Object(g.jsx)("div",{className:"login__error",children:e.errorMessage})]})},f=t.p+"static/media/Desi.a1c603f6.png";var x=function(e){return Object(g.jsxs)("section",{className:"about",children:[Object(g.jsx)("img",{className:"about__image",src:f,alt:"the author"}),Object(g.jsxs)("div",{className:"about__container",children:[Object(g.jsx)("h2",{className:"about__heading",children:"Desiree Joy"}),Object(g.jsxs)("p",{className:"about__description",children:["is a 2021 full stack bootcamp graduate of Practicum by Yandex.",Object(g.jsx)("br",{})," She is proficient in the MERN stack and is eager to focus on accesibility on the web."]})]})]})};var N=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("li",{className:"card",children:[Object(g.jsxs)("div",{className:"card__img",style:{backgroundImage:"url(".concat(e.card.urlToImage,")")},children:[e.savedNewsLocation&&e.Loggedin?Object(g.jsx)("div",{className:"card__keyword-display",children:e.card.keyword}):e.savedNewsLocation?!e.savedNewsLocation&&e.Loggedin?Object(g.jsx)("div",{className:"card__keyword-display",children:e.searchTerm}):Object(g.jsx)("div",{}):Object(g.jsx)("div",{className:"card__keyword-display",children:e.searchTerm}),Object(g.jsxs)("div",{className:"card__btn-container",children:[Object(g.jsx)("button",{className:"card__btn card__btn_".concat(e.savedNewsLocation?"trashcan":"bookmark"," card__btn_").concat(e.card.isSaved?"active":"bookmark"),onClick:e.handleSaveArticle}),e.Loggedin&&e.savedNewsLocation?Object(g.jsx)("button",{className:"card__btn-signin",children:"Remove from saved"}):e.Loggedin?null:Object(g.jsx)("button",{className:"card__btn-signin",children:"Sign in to save articles"})]})]}),Object(g.jsx)("p",{className:"card__date",children:(n=e.card.publishedAt,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))}),Object(g.jsx)("a",{className:"card__title",href:e.card.url,target:"blank",children:e.card.title}),Object(g.jsx)("p",{className:"card__description",children:e.card.description}),Object(g.jsx)("p",{className:"card__keyword",children:e.card.source.name})]})});var n};var S=function(e){return Object(g.jsx)("ul",{className:"cards__list",children:e.cards.slice(0,e.savedNewsLocation?e.cards.length:e.numCardsShown).map((function(n,t){return Object(g.jsx)(N,{Loggedin:e.Loggedin,savedNewsLocation:e.savedNewsLocation,card:n,searchTerm:e.searchTerm,handleSaveArticle:function(){return e.handleSaveArticle(n)}},t)}))})},w=t.p+"static/media/not-found.5661906d.svg";var k=function(){return Object(g.jsxs)("section",{className:"not-found",children:[Object(g.jsx)("img",{className:"not-found__img",src:w,alt:"not found logo"}),Object(g.jsx)("h4",{className:"not-found__title",children:"Nothing Found"}),Object(g.jsx)("p",{className:"not-found__text",children:"Sorry, but nothing matched your search terms."})]})};var C=function(){return Object(g.jsxs)("section",{className:"preloader",children:[Object(g.jsx)("div",{className:"preloader__circle"}),Object(g.jsx)("p",{className:"preloader__text",children:"Searching for news..."})]})};var y=function(e){var n,t;return Object(g.jsxs)("main",{className:"main",children:[Object(g.jsxs)("div",{className:"page__background",children:[Object(g.jsxs)("div",{className:"main__container",children:[Object(g.jsx)("h1",{className:"main__heading",children:"What's going on in the world?"}),Object(g.jsx)("p",{className:"main__subheading",children:"Find the latest news on any topic and save them in your personal account."})]}),Object(g.jsx)(p,{errorMessage:e.searchErrorMsg,handleSearchSubmit:e.handleSearchSubmit,searchTerm:e.searchTerm,setSearchTerm:e.setSearchTerm})]}),e.preloader&&Object(g.jsx)(C,{}),e.notFound&&Object(g.jsx)(k,{}),(null===(n=e.cards)||void 0===n?void 0:n.length)>0?Object(g.jsx)("section",{className:"cards",children:Object(g.jsxs)("div",{className:"cards__block",children:[Object(g.jsx)("h2",{className:"cards__title",children:"Search results"}),Object(g.jsx)(S,{Loggedin:e.Loggedin,savedNewsLocation:e.savedNewsLocation,cards:e.cards,numCardsShown:e.numCardsShown,searchTerm:e.searchTerm,handleSaveArticle:e.handleSaveArticle}),e.numCardsShown<e.cards.length&&Object(g.jsx)("button",{className:"cards__btn",onClick:e.handleShowMore,children:"Show more"})]})}):e.showPreloader?Object(g.jsx)(C,{}):e.notFound||(null===(t=e.cards)||void 0===t?void 0:t.length)<0?Object(g.jsx)(k,{}):null,Object(g.jsx)(x,{})]})};var L=function(e){return Object(g.jsxs)("section",{className:"savedNews",children:[Object(g.jsx)("p",{className:"savedNews__heading",children:"Saved articles"}),Object(g.jsxs)("h2",{className:"savedNews__title",children:[e.currentUser.name,", you have ",e.cards.length," saved articles"]}),Object(g.jsxs)("p",{className:"savedNews__key",children:["By keywords: ",Object(g.jsx)("span",{className:"savedNews__keywords",children:function(){var n=Object(l.a)(new Set(e.cards.map((function(e){return e.keyword})))),t=Object(d.a)(n,2),a=t[0],s=t[1],c=n.length;return c>3?"".concat(a,", ").concat(s,", and ").concat(c-2," others"):n.join(", ")}()})]})]})};var E=function(e){return Object(g.jsxs)("section",{className:"savedNews-main",children:[Object(g.jsx)(L,{cards:e.savedCards,currentUser:e.currentUser}),Object(g.jsx)("div",{className:"cards",children:Object(g.jsx)("div",{className:"cards__block",children:Object(g.jsx)(S,{searchWord:e.searchWord,cards:e.savedCards,Loggedin:e.Loggedin,savedNewsLocation:e.savedNewsLocation,handleSaveArticle:e.handleSaveArticle})})})]})};var T=function(e){function n(n){"Escape"===n.key&&e.onClose()}return Object(a.useEffect)((function(){return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}})),Object(g.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_visible":""),onClick:function(n){n.target.classList.contains("popup__opened")&&e.onClose()},children:Object(g.jsxs)("div",{className:"popup__box",children:[Object(g.jsx)("button",{className:"popup__close-btn",type:"button","aria-label":"Close",onClick:e.onClose}),Object(g.jsxs)("div",{className:"popup__container",children:[Object(g.jsx)("h3",{className:"popup__title",children:e.title}),Object(g.jsx)("form",{className:"popup__form",name:e.name,onSubmit:e.onSubmit,children:e.children})]})]})})};var P=function(e){return console.log(e.wrongEmailOrPasswordMessage),Object(g.jsx)(T,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:e.handleSignin,name:"sign-in",title:"Sign in",children:Object(g.jsxs)("div",{className:"login",children:[Object(g.jsx)("label",{className:"login__label",children:"Email"}),Object(g.jsx)("input",{className:"login__input",placeholder:"Enter your email",name:"email",type:"email",required:!0,value:e.values.email,onChange:e.handleChangeForm}),Object(g.jsx)("label",{className:"login__label",children:"Password"}),Object(g.jsx)("input",{className:"login__input",placeholder:"Enter password",name:"password",type:"password",required:!0,value:e.values.password,onChange:e.handleChangeForm}),Object(g.jsx)("span",{className:"login__error",children:e.wrongEmailOrPasswordMessage&&"Wrong Email or Password"}),Object(g.jsx)("button",{type:"submit",disabled:!e.isValid,className:e.isValid?"login__btn":"login__btn_disabled","aria-label":"Sign in",onClick:e.onSubmit,children:"Sign in"}),Object(g.jsx)("div",{className:"login__signup",children:Object(g.jsxs)("p",{className:"login__extraText",children:["or",Object(g.jsx)("span",{className:"login__link",onClick:e.onSignupClick,children:"Sign up"})]})})]})})};var A=function(e){return Object(g.jsx)(T,{isOpen:e.isOpen,onClose:e.onClose,name:"confirm",title:"Registration successfully completed!",children:Object(g.jsx)("div",{className:"confirmation__link login__link",onClick:e.onSigninClick,children:"Sign in"})})};var U=function(e){return Object(g.jsx)(T,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:e.onSubmit,name:"sign-up",title:"Sign up",children:Object(g.jsxs)("div",{className:"login",children:[Object(g.jsx)("label",{className:"login__label",children:"Email"}),Object(g.jsx)("input",{className:"login__input",placeholder:"Enter your email",name:"email",type:"email",required:!0,value:e.values.email,onChange:e.handleChangeForm}),Object(g.jsx)("label",{className:"login__label",children:"Password"}),Object(g.jsx)("input",{className:"login__input",placeholder:"Enter password",name:"password",type:"password",required:!0,value:e.values.password,onChange:e.handleChangeForm}),Object(g.jsx)("label",{className:"login__label",children:"Username"}),Object(g.jsx)("input",{className:"login__input",placeholder:"Enter your username",name:"name",type:"text",required:!0,value:e.values.name,onChange:e.handleChangeForm}),Object(g.jsx)("span",{className:"login__error",children:e.duplicateEmail&&"Duplicate email"}),Object(g.jsx)("button",{type:"submit",className:"login__btn",children:"Sign up"}),Object(g.jsx)("div",{className:"login__signup",children:Object(g.jsxs)("p",{className:"login__extraText",children:["or",Object(g.jsx)("span",{className:"login__link",onClick:e.onSigninClick,children:"Sign in"})]})})]})})},I=t.p+"static/media/facebook.81b5c6db.svg",F=t.p+"static/media/github.94b724e8.svg";var D=function(){return Object(g.jsxs)("footer",{className:"footer",children:[Object(g.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Supersite, Powered by News API"}),Object(g.jsx)("nav",{className:"footer__link",children:Object(g.jsxs)("ul",{className:"footer__list",children:[Object(g.jsx)("li",{children:Object(g.jsx)("a",{className:"footer__link",href:"/",target:"_self",rel:"noreferrer",children:"Home"})}),Object(g.jsx)("li",{className:"footer__list-item",children:Object(g.jsx)("a",{className:"footer__link",href:"https://practicum.yandex.com/",target:"_blank",rel:"noreferrer",children:"Practicum by Yandex"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{className:"footer__link",href:"https://github.com/lmontem/news-explorer-frontend",target:"_blank",rel:"noreferrer",children:Object(g.jsx)("img",{src:F,alt:"github logo"})})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{className:"footer__link",href:"https://www.facebook.com/YPracticum",target:"_blank",rel:"noreferrer",children:Object(g.jsx)("img",{src:I,alt:"facebook logo"})})})]})})]})},M=(t(39),t(15)),J=t(16),q=localStorage.getItem("token"),V=new(function(){function e(n){var t=n.baseUrl,a=n.headers;Object(M.a)(this,e),this._baseUrl=t,this._headers=a}return Object(J.a)(e,[{key:"getUserInfo",value:function(){return fetch(this._baseUrl+"users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getArticles",value:function(){return fetch(this._baseUrl+"articles",{method:"GET",headers:this._headers}).then((function(e){return e.json()}))}},{key:"saveArticle",value:function(e){var n=e.title,t=e.description,a=e.url,s=e.urlToImage,c=e.publishedAt,i=e.keyword,o=e.source;return fetch(this._baseUrl+"articles",{method:"POST",headers:this._headers,body:JSON.stringify({title:n,description:t,url:a,urlToImage:s,publishedAt:c,keyword:i,source:o})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteArticle",value:function(e){return fetch(this._baseUrl+"articles/"+e,{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"register",value:function(e,n,t){return fetch(this._baseUrl+"signup",{method:"POST",headers:this._headers,body:JSON.stringify({email:e,password:n,name:t})}).then((function(e){return e.json()}))}},{key:"authorize",value:function(e,n){return fetch(this._baseUrl+"signin",{method:"POST",headers:this._headers,body:JSON.stringify({email:e,password:n})}).then((function(e){return e.json()}))}},{key:"checkToken",value:function(e){return fetch(this._baseUrl+"users/me",{method:"GET",headers:this._headers}).then((function(e){return e.json()})).then((function(e){return e}))}}]),e}())({baseUrl:"https://34.125.192.74:3000/",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(q)}}),W=localStorage.getItem("token"),z=new(function(){function e(n){var t=n.baseUrl,a=n.headers;Object(M.a)(this,e),this._baseUrl=t,this._headers=a,this._apiKey="d908b5aaeddc45a8a1740a1f457d953f"}return Object(J.a)(e,[{key:"getNewsCards",value:function(e){var n=new Date,t=n.toISOString(),a=new Date(n.getTime()-6048e5).toISOString();return fetch("".concat(this._baseUrl,"?q=").concat(e,"&from=").concat(a,"&to=").concat(t,"&sortBy=relevancy&apiKey=").concat(this._apiKey)).then((function(e){return e.ok?e.json():Promise.reject(new Error(e.status))})).then((function(e){return e.articles}))}}]),e}())({baseUrl:"https://nomoreparties.co/news/v2/everything",headers:{"Content-Type":"application/json"},"Content-Type":"application/json",Accept:"application/json"}),B=t(24),H=["component"],R=function(e){var n=e.component,t=Object(B.a)(e,H);return t.Loggedin||t.handleSigninClick(),Object(g.jsx)(u.b,{children:function(){return t.Loggedin?Object(g.jsx)(n,Object(r.a)({},t)):Object(g.jsx)(u.a,{to:"./"})}})};var K=function(){var e=Object(a.useState)(!1),n=Object(d.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(!1),h=Object(d.a)(i,2),j=h[0],b=h[1],_=Object(a.useState)(!1),v=Object(d.a)(_,2),p=v[0],f=v[1],x=Object(a.useState)(!1),N=Object(d.a)(x,2),S=N[0],w=N[1],k=Object(a.useState)(!1),C=Object(d.a)(k,2),L=C[0],T=C[1],I=Object(a.useState)(!1),F=Object(d.a)(I,2),M=F[0],J=F[1],q=s.a.useState(window.innerWidth),B=Object(d.a)(q,2),H=B[0],K=B[1],Y=s.a.useState({}),G=Object(d.a)(Y,2),$=G[0],Q=G[1],X=s.a.useState(!1),Z=Object(d.a)(X,2),ee=Z[0],ne=Z[1],te=Object(u.h)(),ae=Object(u.g)(),se="/saved-news"===te.pathname,ce=s.a.useState({email:"",password:"",name:""}),ie=Object(d.a)(ce,2),oe=ie[0],re=ie[1],le=s.a.useState({}),de=Object(d.a)(le,2),ue=de[0],he=de[1],je=s.a.useState(!1),be=Object(d.a)(je,2),me=be[0],ge=be[1],_e=s.a.useState(!1),ve=Object(d.a)(_e,2),Oe=ve[0],pe=ve[1],fe=s.a.useState(!1),xe=Object(d.a)(fe,2),Ne=xe[0],Se=xe[1],we=Object(a.useState)(""),ke=Object(d.a)(we,2),Ce=ke[0],ye=ke[1],Le=Object(a.useState)(""),Ee=Object(d.a)(Le,2),Te=Ee[0],Pe=Ee[1],Ae=Object(a.useState)(!1),Ue=Object(d.a)(Ae,2),Ie=Ue[0],Fe=Ue[1],De=Object(a.useState)(!1),Me=Object(d.a)(De,2),Je=Me[0],qe=Me[1],Ve=s.a.useState([]),We=Object(d.a)(Ve,2),ze=We[0],Be=We[1],He=Object(a.useState)(3),Re=Object(d.a)(He,2),Ke=Re[0],Ye=Re[1],Ge=s.a.useState([]),$e=Object(d.a)(Ge,2),Qe=$e[0],Xe=$e[1];function Ze(e){e.isSaved=!1,V.deleteArticle(e._id).then((function(){var n=Qe.filter((function(n){return n._id!==e._id}));Xe(n);var t=ze.map((function(n){return n._id===e._id?e:n}));Be(t),localStorage.setItem("savedCards",JSON.stringify(n))})).catch((function(e){return console.log("Error: "+e)}))}function en(e){if(!t)return on();!0===e.isSaved?Ze(e):!se&&t?(e.keyword=Ce,e.source=e.source.name,V.saveArticle(e).then((function(n){n.isSaved=!0;var t=ze.map((function(t){return t===e?n:t})),a=[].concat(Object(l.a)(Qe),[n]);Xe(a),Be(t),localStorage.setItem("savedCards",JSON.stringify(a))})).catch((function(e){return console.log("Error: "+e)}))):Ze(e)}function nn(){var e=localStorage.getItem("token");e&&V.checkToken(e).then((function(e){e&&(c(!0),re({email:e.email,password:e.password,name:e.name}),ae.push("/"))})).catch((function(e){console.log("Err: "+e)}))}function tn(){V.getUserInfo().then((function(e){var n;Q(e),n=W,V.getArticles(n).then((function(e){Xe(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e)}))}console.log("errors are "+ue),s.a.useEffect((function(){nn()}),[]),s.a.useEffect((function(){localStorage.getItem("token")&&tn()}),[]),s.a.useEffect((function(){var e=function(){return K(window.innerWidth)};return window.addEventListener("resize",e),T(H<768),function(){return window.removeEventListener("resize",e)}}),[H]),s.a.useEffect((function(){null!==localStorage.getItem("savedCards")&&t&&(Xe(JSON.parse(localStorage.getItem("savedCards"))),qe(!0))}),[]);var an=function(e){var n=e.target,t=n.name,a=n.value,s=Object(r.a)(Object(r.a)({},oe),{},Object(o.a)({},t,a));console.log(s),re(s),function(){var e=RegExp(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/i);he((function(n){return Object(r.a)(Object(r.a)({},n),{},{email:e.test(oe.email)?"":"Invalid email address"})}))}(),he(Object(r.a)(Object(r.a)({},ue),{},Object(o.a)({},t,ue[t]))),ne(!1),ge(e.target.closest("form").checkValidity())},sn=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:"",password:"",name:""},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{email:"",password:"",name:""},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];re(e),he(n),ge(t)}),[re,he,ge]);function cn(){f(!1),b(!1),J(!1),w(!1)}function on(){f(!0),b(!1),J(!1),w(!1)}return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"page",children:Object(g.jsxs)(m.Provider,{value:$,children:[Object(g.jsx)(O,{values:oe,Loggedin:t,savedNewsLocation:se,onSigninClick:on,onSignOut:function(e){e.preventDefault(),localStorage.removeItem("token"),c(!1),ae.push("/"),cn(),window.location.reload()},mobile:L,mobileNavOpen:M,onHamburgerClick:function(){J(!0)},onClose:function(){J(!1)}}),Object(g.jsxs)(u.d,{children:[Object(g.jsx)(R,{exact:!0,path:"/saved-news",component:E,Loggedin:t,cards:ze,searchTerm:Ce,savedCards:Qe,savedNewsLocation:se,currentUser:$,handleSigninClick:on,handleSaveArticle:function(e){en(e)},handleDeleteArticle:function(e){Ze(e)}}),Object(g.jsx)(u.b,{path:"/",children:Object(g.jsx)(y,{setSearchTerm:ye,Loggedin:t,savedNewsLocation:se,handleSearchSubmit:function(e){if(e.preventDefault(),Se(!0),0===Ce.length)return Se(!1),void Pe("Must enter search term");z.getNewsCards(Ce).then((function(e){return 0===e.length&&Fe(!0),e})).then((function(e){Ye(3),Be(e),qe(!0),ye(Ce),Se(!1),Pe("")})).catch((function(){Pe("Something went wrong with this request. Please try again later."),Se(!1)}))},setSearchErrorMsg:Pe,searchErrorMsg:Te,searchTerm:Ce,preloader:Ne,notFound:Ie,results:Je,cards:ze,handleShowMore:function(){Ye(Ke+3)},handleSave:!0,numCardsShown:Ke,handleSaveArticle:function(e){en(e)},currentUser:$})})]}),Object(g.jsx)(D,{}),Object(g.jsx)(P,{onSignupClick:function(){b(!0),f(!1),ne(!1)},onClose:cn,isOpen:p,onSubmit:function(e){e&&e.preventDefault(),e.preventDefault(),V.authorize(oe.email,oe.password).then((function(e){if(400===e.statusCode)return ne(!0),Promise.reject("Error! ".concat(e.message));console.log(e),localStorage.setItem("token",e.token),console.log(localStorage.getItem("token")),tn()})).then((function(){nn(),cn(),sn(),window.location.reload()})).catch((function(e){return 400===e.statusCode?(console.log("one of the fields was filled in incorrectly"),ne(!0),Promise.reject("Error! ".concat(e.message))):401===e.statusCode?(console.log("user email not found"),ne(!0),Promise.reject("Error! ".concat(e.message))):void 0}))},handleChangeForm:an,values:oe,isValid:me,wrongEmailOrPasswordMessage:ee}),Object(g.jsx)(U,{onSigninClick:on,onClose:cn,isOpen:j,onSubmit:function(e){e.preventDefault(),console.log("These Values are correct heading to the mainApi"+oe.name),V.register(oe.email,oe.password,oe.name).then((function(e){return"Duplicate User"===e.message?(pe(!0),Promise.reject("Error! ".concat(e.message))):e.ok?e.json():void 0})).then((function(){w(!0),b(!1),pe(!1),sn()})).catch((function(e){return console.log(e)}))},handleChangeForm:an,values:oe,duplicateEmail:Oe,isValid:me}),Object(g.jsx)(A,{onSigninClick:on,onClose:cn,isOpen:S})]})})})},Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,a=n.getFID,s=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(h.a,{children:Object(g.jsx)(K,{})})}),document.getElementById("root")),Y()}},[[40,1,2]]]);
//# sourceMappingURL=main.8483cae7.chunk.js.map